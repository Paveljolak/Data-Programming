---
title: "Data Programming"
subtitle: "Homework 1"
author: "Pavel"
date: "March 31, 2024"
format: 
  html:
    embed-resources: true
execute: 
  warning: false
  messages: false
  echo: true
  error: true
---




## Solutions

Submit a **.html** file created using Quarto via e-classroom. A sample is attached. Display all code (packages,input) and output.


Transform the dataframe **automobile**

```{r}
automobile<-mtcars
```

1. Move rownames to a column **cars.name**, remove rownames.
2. Add a column named **l/100km** whose values are based on column mpg, then delete column mpg.
3. Change the **am** column to a factor with levels **Automatic** and **Manual**.

```{r}
# solve 1-3 here
#1
#__________________________________________
# Make a new column and move rownames in
cars.names <- rownames(automobile)

# Add that column to the dataframe
automobile <- cbind(cars.names, automobile)

# Delete the rownames
rownames(automobile) <- NULL
#__________________________________________

#2
#__________________________________________
# Formula to convert mpg to l100km
L100km <- 235.214583 / automobile$mpg

# Print to check
L100km

# Add l100km to automobile dataframe
automobile$L100km <- L100km

# Now we delete mpg cuz we no longer need it:
automobile$mpg <- NULL


#__________________________________________

#3
#__________________________________________
# Consulting the docs: 0 is automatic, 1 is manual.
automobile$am[automobile$am == 0] <- "Automatic"
# There is a joke here
automobile$am[automobile$am == 1] <- "Manual"


#__________________________________________



```


After the transformation display the data frame as a tibble then answer these questions independently.

```{r}
#| echo: false
#installs tidyverse and quarto if not done already, delete this chunk after running it once.
normalpackages<-c("tidyverse","quarto")
   new.packages <- normalpackages[!(normalpackages %in% installed.packages()[,"Package"])]
  if(length(new.packages)>0) {install.packages(new.packages,dependencies =T,quiet = T)}
```
```{r}
library(tidyverse)
as.tibble(automobile)
```



4. What is the average number of gears?
5. Return the rows with cars with horsepower between 200 and 400.
6. Which car is most fuel efficient car among 6 cylinder cars?

```{r}
# solve 4-6 here

#4
#__________________________________________
# Simple mean will do the trick here
averageNumOfGears <- mean(automobile$gear)

# We round since we want an integer number.
round(averageNumOfGears, digits = 0)

#__________________________________________

#5
#__________________________________________

automobile %>% .[.$hp > 200 & .$hp < 400,]

#__________________________________________


#6
#__________________________________________

# First find all the cars with 6 cylinders and then find 
# which one spends the minimum ammount of liters per km, or in our case 100km.
automobile %>% .[.$cyl == 6,] %>% .[.$L100km == min(.$L100km),]

#__________________________________________


```
